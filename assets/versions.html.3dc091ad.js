import{r as s,o as a,c as n,a as l,w as e,F as o,b as p,d as c}from"./app.0e7b70bd.js";const r={},t=p('<h1 id="版本" tabindex="-1"><a class="header-anchor" href="#版本" aria-hidden="true">#</a> 版本</h1><h2 id="安装版本" tabindex="-1"><a class="header-anchor" href="#安装版本" aria-hidden="true">#</a> 安装版本</h2><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf install </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span></span>\n<span class="line"><span style="color:#88846F;"># asdf install erlang 17.3</span></span>\n<span class="line"></span></code></pre></div><p>如果一个插件支持从源代码下载和编译，你可以指定 <code>ref:foo</code>，其中 <code>foo</code> 是特定的分支、标签或者提交。卸载该版本时，你也需要使用相同的名称和引用。</p><h2 id="安装最新稳定版本" tabindex="-1"><a class="header-anchor" href="#安装最新稳定版本" aria-hidden="true">#</a> 安装最新稳定版本</h2><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf install </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> latest</span></span>\n<span class="line"><span style="color:#88846F;"># asdf install erlang latest</span></span>\n<span class="line"></span></code></pre></div><p>安装给定字符串开头的最新稳定版本。</p><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf install </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> latest:</span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span></span>\n<span class="line"><span style="color:#88846F;"># asdf install erlang latest:17</span></span>\n<span class="line"></span></code></pre></div><h2 id="列举已安装版本" tabindex="-1"><a class="header-anchor" href="#列举已安装版本" aria-hidden="true">#</a> 列举已安装版本</h2><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf list </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span></span>\n<span class="line"><span style="color:#88846F;"># asdf list erlang</span></span>\n<span class="line"></span></code></pre></div><p>筛选出以给定字符串开头的版本。</p><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf list </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span></span>\n<span class="line"><span style="color:#88846F;"># asdf list erlang 17</span></span>\n<span class="line"></span></code></pre></div><h2 id="列举所有可用版本" tabindex="-1"><a class="header-anchor" href="#列举所有可用版本" aria-hidden="true">#</a> 列举所有可用版本</h2><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf list all </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span></span>\n<span class="line"><span style="color:#88846F;"># asdf list all erlang</span></span>\n<span class="line"></span></code></pre></div><p>筛选出以给定字符串开头的版本。</p><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf list all </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span></span>\n<span class="line"><span style="color:#88846F;"># asdf list all erlang 17</span></span>\n<span class="line"></span></code></pre></div><h2 id="显示最新稳定版本" tabindex="-1"><a class="header-anchor" href="#显示最新稳定版本" aria-hidden="true">#</a> 显示最新稳定版本</h2><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf latest </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span></span>\n<span class="line"><span style="color:#88846F;"># asdf latest erlang</span></span>\n<span class="line"></span></code></pre></div><p>显示以给定字符串开头的最新稳定版本。</p><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf latest </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span></span>\n<span class="line"><span style="color:#88846F;"># asdf latest erlang 17</span></span>\n<span class="line"></span></code></pre></div><h2 id="设置当前版本" tabindex="-1"><a class="header-anchor" href="#设置当前版本" aria-hidden="true">#</a> 设置当前版本</h2><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf global </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> [</span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;">...]</span></span>\n<span class="line"><span style="color:#F8F8F2;">asdf shell </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> [</span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;">...]</span></span>\n<span class="line"><span style="color:#F8F8F2;">asdf </span><span style="color:#F92672;">local</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> [</span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;">...]</span></span>\n<span class="line"><span style="color:#88846F;"># asdf global elixir 1.2.4</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F8F8F2;">asdf global </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> latest[:</span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;">]</span></span>\n<span class="line"><span style="color:#F8F8F2;">asdf </span><span style="color:#F92672;">local</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> latest[:</span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;">]</span></span>\n<span class="line"><span style="color:#88846F;"># asdf global elixir latest</span></span>\n<span class="line"></span></code></pre></div><p><code>global</code> 将版本写到 <code>$HOME/.tool-versions</code> 文件中。</p><p><code>shell</code> 仅为当前 shell 会话将版本设置为一个名为 <code>ASDF_${LANG}_VERSION</code> 的环境变量。</p><p><code>local</code> 将版本写到 <code>$PWD/.tool-versions</code> 文件中，如果有需要也会创建此文件。</p>',25),F=c("请查看 "),d=c("配置部分"),i=c(" 的 "),y=l("code",null,".tool-versions",-1),h=c(" 文件了解更多详情。"),g=p('<div class="custom-container warning"><p class="custom-container-title">可选</p><p>如果你只是想为当前 shell 会话或者在特定工具版本下执行一条命令，你可以设置一个类似 <code>ASDF_${TOOL}_VERSION</code> 的环境变量。</p></div><p>下面的示例在版本为 <code>1.4.0</code> 的 Elixir 项目上运行测试。 版本格式与 <code>.tool-versions</code> 文件支持的版本格式相同。</p><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">ASDF_ELIXIR_VERSION=1.4.0 mix </span><span style="color:#66D9EF;">test</span></span>\n<span class="line"></span></code></pre></div><h2 id="回退到系统版本" tabindex="-1"><a class="header-anchor" href="#回退到系统版本" aria-hidden="true">#</a> 回退到系统版本</h2><p>要使用工具 <code>&lt;name&gt;</code> 的系统版本而非 asdf 管理版本，你可以将工具的版本设置为 <code>system</code>。</p><p>使用 <code>global</code>、<code>local</code> 或者 <code>shell</code> 设置系统，如上面的 <a href="#%E8%AE%BE%E7%BD%AE%E5%BD%93%E5%89%8D%E7%89%88%E6%9C%AC">设置当前版本</a> 部分所述。</p><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf </span><span style="color:#F92672;">local</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> system</span></span>\n<span class="line"><span style="color:#88846F;"># asdf local python system</span></span>\n<span class="line"></span></code></pre></div><h2 id="显示当前版本" tabindex="-1"><a class="header-anchor" href="#显示当前版本" aria-hidden="true">#</a> 显示当前版本</h2><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf current</span></span>\n<span class="line"><span style="color:#88846F;"># asdf current</span></span>\n<span class="line"><span style="color:#88846F;"># erlang 17.3 (set by /Users/kim/.tool-versions)</span></span>\n<span class="line"><span style="color:#88846F;"># nodejs 6.11.5 (set by /Users/kim/cool-node-project/.tool-versions)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F8F8F2;">asdf current </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span></span>\n<span class="line"><span style="color:#88846F;"># asdf current erlang</span></span>\n<span class="line"><span style="color:#88846F;"># 17.3 (set by /Users/kim/.tool-versions)</span></span>\n<span class="line"></span></code></pre></div><h2 id="卸载版本" tabindex="-1"><a class="header-anchor" href="#卸载版本" aria-hidden="true">#</a> 卸载版本</h2><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">asdf uninstall </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">name</span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;">version</span><span style="color:#F92672;">&gt;</span></span>\n<span class="line"><span style="color:#88846F;"># asdf uninstall erlang 17.3</span></span>\n<span class="line"></span></code></pre></div><h2 id="垫片-shims" tabindex="-1"><a class="header-anchor" href="#垫片-shims" aria-hidden="true">#</a> 垫片（Shims）</h2><p>当 asdf 安装一个包时，它会在 <code>$ASDF_DATA_DIR/shims</code> 目录（默认为 <code>~/.asdf/shims</code>）中为该包中的每个可执行程序创建垫片。这个位于 <code>$PATH</code> 中（通过 <code>asdf.sh</code>、 <code>asdf.fish</code> 等等实现）的目录是已安装程序在环境中可用的方式。</p><p>垫片本身是非常简单的包装器，它 <code>exec</code> （执行）一个辅助程序 <code>asdf exec</code>，向其传递插件的名称和垫片正在包装的已安装包中的可执行程序的路径。</p><p><code>asdf exec</code> 辅助程序确定要使用的软件包版本（比如在 <code>.tool-versions</code> 文件中指定，通过 <code>asdf local ...</code> 或者 <code>asdf global ...</code> 命令选择）、软件包安装目录中的可执行程序的最终路径（这可以在插件中通过 <code>exec-path</code> 回调来操作）以及要在其中执行的环境（也由插件 - <code>exec-env</code> 脚本提供），最后完成执行。</p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>因为此系统使用 <code>exec</code> 调用，所以软件包中的任何脚本如果要由 shell 生效而不是执行的脚本都需要直接访问，而不是通过垫片包装器进行访问。两个 <code>asdf</code> 命令：<code>which</code> 和 <code>where</code> 可以通过返回已安装软件包的路径来帮助解决这个问题。</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;"># 返回当前版本中主要可执行程序的路径</span></span>\n<span class="line"><span style="color:#66D9EF;">source</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">$(asdf which </span><span style="color:#F8F8F2;">${PLUGIN}</span><span style="color:#E6DB74;">)</span><span style="color:#F8F8F2;">/../script.sh</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#88846F;"># 返回软件包安装目录的路径</span></span>\n<span class="line"><span style="color:#66D9EF;">source</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">$(asdf where </span><span style="color:#F8F8F2;">${PLUGIN}</span><span style="color:#E6DB74;"> $(asdf current </span><span style="color:#F8F8F2;">${PLUGIN}</span><span style="color:#E6DB74;">))</span><span style="color:#F8F8F2;">/bin/script.sh</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="绕过-asdf-垫片" tabindex="-1"><a class="header-anchor" href="#绕过-asdf-垫片" aria-hidden="true">#</a> 绕过 asdf 垫片</h3>',18),f=c("如果由于某种原因，你希望绕过 asdf 垫片，或者希望在进入项目目录时自动设置环境变量，则 "),u={href:"https://github.com/asdf-community/asdf-direnv",target:"_blank",rel:"noopener noreferrer"},b=c("asdf-direnv"),v=c(" 插件可能会有所帮助。请务必查看其 README 文件了解更多详情。");r.render=function(p,c){const r=s("RouterLink"),m=s("OutboundLink");return a(),n(o,null,[t,l("p",null,[F,l(r,{to:"/zh-hans/manage/configuration.html"},{default:e((()=>[d])),_:1}),i,y,h]),g,l("p",null,[f,l("a",u,[b,l(m)]),v])],64)};export default r;
